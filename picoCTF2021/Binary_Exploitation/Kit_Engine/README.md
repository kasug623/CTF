# Lesson
- `d8`
- `Ninja`  
    - https://ja.wikipedia.org/wiki/Ninja_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)  
- `GN`  
    - https://gn.googlesource.com/gn/  
    - https://zenn.dev/junkawa/articles/ninja-gn-overview  
- ctf tips
    - read provided files carefully

# Memo
1. check
```zsh
$ file d8
d8: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[xxHash]=ab5850770cda055d, with debug_info, not stripped
$
$ checksec --file=./d8 --output=json | jq .
{
  "./d8": {
    "relro": "full",
    "canary": "yes",
    "nx": "yes",
    "pie": "yes",
    "rpath": "no",
    "runpath": "no",
    "symbols": "yes",
    "fortify_source": "no",
    "fortified": "0",
    "fortify-able": "28"
  }
}
```
2. investigate wit trial-and-error
```zsh
d8> AssembleEngine(1)
Done
undefined
d8> AssembleEngine([1,2])
Memory Dump. Watch your endianness!!:
0: float 1.000000 hex 3ff0000000000000
1: float 2.000000 hex 4000000000000000
Starting your engine!!
Received signal 11 SEGV_MAPERR 000000000017

==== C stack trace ===============================

 [0x55cc89618cd7]
 [0x7f94e63e9520]
 [0x7f94e66ef000]
[end of stack trace]
zsh: segmentation fault  ./d8
```
```zsh
$ ./d8
V8 version 9.1.0 (candidate)
d8> AssembleEngine([1,1.1,1.2,2,3])
Memory Dump. Watch your endianness!!:
0: float 1.000000 hex 3ff0000000000000
1: float 1.100000 hex 3ff199999999999a
2: float 1.200000 hex 3ff3333333333333
3: float 2.000000 hex 4000000000000000
4: float 3.000000 hex 4008000000000000
Starting your engine!!
Received signal 11 SEGV_MAPERR 000000000017

==== C stack trace ===============================

 [0x55ebc6b27cd7]
 [0x7f2ec3d9a520]
 [0x7f2ec40db000]
[end of stack trace]
zsh: segmentation fault  ./d8
```
```zsh
$ ./d8
V8 version 9.1.0 (candidate)
d8> AssembleEngine([1.875])
Memory Dump. Watch your endianness!!:
0: float 1.875000 hex 3ffe000000000000
Starting your engine!!
Received signal 11 SEGV_MAPERR 000000000017

==== C stack trace ===============================

 [0x55d9be1d9cd7]
 [0x7f3e0c8e5520]
 [0x7f3e0cc26000]
[end of stack trace]
zsh: segmentation fault  ./d8
```
python
```py
import struct

# Hexadecimal representation
hex_representation = '3ffe000000000000'

# Convert hexadecimal string to bytes
hex_bytes = bytes.fromhex(hex_representation)

# Convert bytes to float
float_value = struct.unpack('!d', hex_bytes)[0]

print(f'Conversion of hexadecimal representation {hex_representation}: {float_value:.6f}')
# Conversion of hexadecimal representation 3ffe000000000000: 1.875000
```

# Ref  
- https://satoooon1024.hatenablog.com/entry/2021/03/31/093021#Kit-Engine-375-points  