# Lesson
- Sigreturn-oriented programming (SROP)  
  https://en.wikipedia.org/wiki/Sigreturn-oriented_programming  
- NX bit  
  whether shellcode is effective or not  
  https://d2v.hatenablog.com/entry/2021/06/24/003258  
- `ROPgadget`  
  `ROPgadget` is installed with pwntools.
  ```zsh
  # use python3 with pwntools
  $ ROPgadget --binary ./vuln --re "pop ebx"
  ```
- how to input bytes value on stdin
  ```zsh
  (python -c "print 'a' * 76 + '\xe6\x85\x04\x08';") | ./vuln
  ```
  or
  ```zsh
  $ echo -e '\xdd\xcc\xbb\xaa%46c%6$n' | ./q4
  ```
  - how can I input bytes value during `pwndbg`  
    This does not work well.
    ```
    n << (python -c "print '\x90\x90'")
    n << (echo -e '\x90\x90')
    ```
- `execve`  
  https://en.wikipedia.org/wiki/Exec_(system_call)  
  https://wiki.mma.club.uec.ac.jp/ytoku/Slides/Pwn%E5%8B%89%E5%BC%B7%E4%BC%9A  
  https://manpages.ubuntu.com/manpages/focal/ja/man2/execve.2.html  
  - how to know the usage of `execve` on a machine code level
    1. qwrite simple c programe that use the system call - for instance `execve`  
    2. compile it  
    3. debug it with `gdb` and check it  

# Memo
1. check
```zsh
$ file ./vuln
./vuln: ELF 32-bit LSB executable, Intel 80386, version 1 (GNU/Linux), statically linked, BuildID[sha1]=232215a502491a549a155b1a790de97f0c433482, for GNU/Linux 3.2.0, not stripped
$ checksec --file=./vuln --output=json | jq .
{
  "./vuln": {
    "relro": "partial",
    "canary": "no",
    "nx": "no",
    "pie": "no",
    "rpath": "n/a",
    "runpath": "n/a",
    "symbols": "yes",
    "fortify_source": "no",
    "fortified": "0",
    "fortify-able": "0"
  }
}
```

# Ref  
- https://qiita.com/housu_jp/items/2be2b8147f35a4d6a6ce  